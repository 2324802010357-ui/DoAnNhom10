@{
    ViewBag.Title = "Trang chủ";
    var featured = ViewBag.FeaturedProducts as List<DoAnNhom10.Models.Product>;
    var bestSellers = ViewBag.BestSellers as List<DoAnNhom10.Models.Product>;
}

<!-- Hero Section -->
<div class="hero-section text-center d-flex align-items-center justify-content-center">
    <div class="hero-overlay"></div>
    <div class="hero-content text-white">
        <h1 class="display-4 fw-bold">Fashion Store</h1>
        <p class="lead">Khám phá phong cách thời trang hiện đại & độc đáo</p>
        <a href="@Url.Action("Index", "Products")" class="btn hero-btn mt-3 px-4 py-2">
            <i class="fas fa-shopping-bag"></i> Mua sắm ngay
        </a>
    </div>
</div>

<!-- Categories Section -->
<div class="container my-5">
    <div class="section-title text-center mb-4">
        <h2>DANH MỤC SẢN PHẨM</h2>
        <p>Khám phá theo sở thích của bạn</p>
    </div>

    <div class="row g-4 justify-content-center">
        <div class="col-md-3 col-sm-6">
            <a href="@Url.Action("Index", "Products", new { category = "nam" })" class="category-card text-decoration-none">
                <img src="https://dongphuchaianh.vn/wp-content/uploads/2021/07/thoi-trang-nam-mua-he-1-1.jpg"
                     class="img-fluid rounded shadow" alt="Thời trang nam" />
                <h4 class="text-center mt-2 text-dark">Thời trang nam</h4>
            </a>
        </div>

        <div class="col-md-3 col-sm-6">
            <a href="@Url.Action("Index", "Products", new { category = "nu" })" class="category-card text-decoration-none">
                <img src="https://images.unsplash.com/photo-1496747611176-843222e1e57c?w=400"
                     class="img-fluid rounded shadow" alt="Thời trang nữ" />
                <h4 class="text-center mt-2 text-dark">Thời trang nữ</h4>
            </a>
        </div>

        <div class="col-md-3 col-sm-6">
            <a href="@Url.Action("Index", "Products", new { category = "giaynam" })" class="category-card text-decoration-none">
                <img src="https://giaynamvip.com/upload/product/gnk114/giay-da-nam-cao-cap-da-bo-xuat-du-ca-tinh.jpg"
                     class="img-fluid rounded shadow" alt="Giày nam" />
                <h4 class="text-center mt-2 text-dark">Giày nam</h4>
            </a>
        </div>

        <div class="col-md-3 col-sm-6">
            <a href="@Url.Action("Index", "Products", new { category = "giaynu" })" class="category-card text-decoration-none">
                <img src="https://bizweb.dktcdn.net/100/080/164/products/giay-bet-nu-da-bo-mem-4469-1.jpg?v=1650170860000"
                     class="img-fluid rounded shadow" alt="Giày nữ" />
                <h4 class="text-center mt-2 text-dark">Giày nữ</h4>
            </a>
        </div>
    </div>
</div>

<!-- Featured Products -->
<div class="container my-5">
    <div class="section-title text-center mb-4">
        <h2>SẢN PHẨM NỔI BẬT</h2>
        <p>Những sản phẩm được yêu thích nhất hiện nay</p>
    </div>

    <div class="row">
        @if (featured != null && featured.Any())
        {
            foreach (var item in featured)
            {
                var image = item.ProductImages?.FirstOrDefault()?.Url
                            ?? "https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=400";
                <div class="col-md-3 col-sm-6 mb-4">
                    <div class="card h-100 shadow-sm">
                        <img src="@image" class="card-img-top" alt="@item.Name" style="object-fit:cover;height:250px;">
                        <div class="card-body text-center">
                            <h5>@item.Name</h5>
                            <p class="text-danger fw-bold">@((item.BasePrice ?? 0).ToString("N0")) đ</p>
                            <a href="@Url.Action("Details", "Products", new { id = item.ProductID })" class="btn btn-outline-dark btn-sm">
                                <i class="fas fa-eye"></i> Xem
                            </a>
                            <a href="@Url.Action("AddToCart", "Cart", new { id = item.ProductID })" class="btn btn-success btn-sm">
                                <i class="fas fa-cart-plus"></i> Mua
                            </a>
                        </div>
                    </div>
                </div>
            }
        }
        else
        {
            <p class="text-center text-muted">Chưa có sản phẩm nổi bật nào.</p>
        }
    </div>
</div>

<!-- Best Sellers -->
<div class="container my-5">
    <div class="section-title text-center mb-4">
        <h2>BÁN CHẠY NHẤT</h2>
        <p>Top sản phẩm được khách hàng yêu thích</p>
    </div>

    <div class="row">
        @if (bestSellers != null && bestSellers.Any())
        {
            foreach (var item in bestSellers)
            {
                var image = item.ProductImages?.FirstOrDefault()?.Url
                            ?? "https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=400";
                <div class="col-md-3 col-sm-6 mb-4">
                    <div class="card h-100 shadow-sm">
                        <img src="@image" class="card-img-top" alt="@item.Name" style="object-fit:cover;height:250px;">
                        <div class="card-body text-center">
                            <h5>@item.Name</h5>
                            <p class="text-danger fw-bold">@((item.BasePrice ?? 0).ToString("N0")) đ</p>
                            <a href="@Url.Action("Details", "Products", new { id = item.ProductID })" class="btn btn-outline-dark btn-sm">
                                <i class="fas fa-eye"></i> Xem
                            </a>
                            <a href="@Url.Action("AddToCart", "Cart", new { id = item.ProductID })" class="btn btn-success btn-sm">
                                <i class="fas fa-cart-plus"></i> Mua
                            </a>
                        </div>
                    </div>
                </div>
            }
        }
        else
        {
            <p class="text-center text-muted">Chưa có sản phẩm bán chạy nào.</p>
        }
    </div>
</div>

<text>
    <style>
        /* Hero section */
        .hero-section {
            position: relative;
            height: 90vh;
            background-image: url('https://img.freepik.com/premium-photo/interior-brand-new-fashion-clothing-store_652667-137.jpg?w=2000');
            background-position: center;
            background-size: cover;
            background-repeat: no-repeat;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            overflow: hidden;
        }

        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.45);
            z-index: 1;
        }

        .hero-content {
            position: relative;
            z-index: 2;
            text-align: center;
            padding: 20px;
            animation: fadeIn 1.2s ease;
        }

            .hero-content h1 {
                font-family: 'Poppins', sans-serif;
                font-weight: 700;
                font-size: 3.8rem;
                text-shadow: 3px 3px 8px rgba(0, 0, 0, 0.7);
                margin-bottom: 15px;
            }

            .hero-content p {
                font-size: 1.3rem;
                color: #f0f0f0;
                text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.6);
                margin-bottom: 25px;
            }

        .hero-btn {
            background-color: #ffcc00;
            border: none;
            color: #222;
            font-weight: 600;
            font-size: 1rem;
            padding: 12px 30px;
            border-radius: 30px;
            box-shadow: 0 4px 12px rgba(255, 204, 0, 0.4);
            transition: all 0.3s ease;
        }

            .hero-btn:hover {
                background-color: #e6b800;
                color: #000;
                box-shadow: 0 6px 18px rgba(255, 204, 0, 0.5);
                transform: translateY(-2px);
            }

        /* Media query: phải escape @@ trong cshtml */
        @@media (max-width: 768px) {
            .hero-content h1 {
                font-size: 2.4rem;
            }

            .hero-content p {
                font-size: 1rem;
            }

            .hero-section {
                height: 70vh;
            }
        }

        /* Animation */
        @@keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</text>
